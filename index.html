<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>WetWeather</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body { font-family: Arial, sans-serif; background: #f4f4f4; text-align: center; padding: 2rem; }
  h1 { color: #333; }
  input, button { padding: 0.5rem; font-size: 1rem; margin: 0.25rem; }
  #output { 
    background: white; 
    padding: 1rem; 
    margin-top: 1rem; 
    min-height: 120px; 
    border-radius: 6px; 
    box-shadow: 0 0 5px rgba(0,0,0,0.1); 
    text-align: left;
    white-space: pre-wrap;
  }
</style>
</head>
<body>

<h1>WetWeather Forecast</h1>
<p>Enter location and optionally date/time. “Goodwalk” advice included.</p>

<input type="text" id="location" placeholder="e.g. 845 Broadway, 12305">
<input type="datetime-local" id="datetime">
<button onclick="getForecast()">Show Me</button>

<div id="output">Forecast will appear here...</div>

<script>
async function getForecast() {
  const loc = document.getElementById('location').value.trim();
  const dt = document.getElementById('datetime').value;
  const outBox = document.getElementById('output');

  if (!loc) {
    outBox.textContent = "Please enter a location.";
    return;
  }

  outBox.textContent = "Fetching forecast...";

  // Build the prompt for WetWeather / Luma
  const prompt = `Local forecast for ${loc}${dt ? " at " + dt : ""}. Include:
1. Rain/wind/storm windows
2. Confidence %
3. “Goodwalk” advice (20-min window for local walk based on current conditions)`;

  try {
    // Replace URL with your no-login GPT/WetWeather endpoint
    const response = await fetch('YOUR_WETWEATHER_ENDPOINT_HERE', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({prompt})
    });

    const data = await response.json(); // expects {forecastText: "..."} or JSON format
    outBox.textContent = data.forecastText || JSON.stringify(data, null, 2);

  } catch (err) {
    outBox.textContent = "Error fetching forecast: " + err;
  }
}
</script>

</body>
</html>
